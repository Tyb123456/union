
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Union Bubble Popper</title>
<style>
  body {
    background: radial-gradient(circle at center, #0f0f0f, #000000);
    color: #fff;
    margin: 0;
    font-family: sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 100vh;
    overflow: hidden;
  }
  canvas {
    background: transparent;
    display: block;
    margin: auto;
    touch-action: manipulation;
  }
  #score, #timer {
    font-size: 20px;
    margin: 5px;
  }
  #credit {
    position: absolute;
    bottom: 5px;
    font-size: 14px;
    color: #0ff;
  }
</style>
</head>
<body>
<div id="score">Score: 0</div>
<div id="timer">Time: 60</div>
<canvas id="gameCanvas" width="360" height="500"></canvas>
<div id="credit">Built by @weirdofact</div>
<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
let bubbles = [];
let score = 0;
let timeLeft = 60;
let gameInterval, timerInterval;
const bubbleImage = new Image();
bubbleImage.src = 'union_logo.png';

function spawnBubble() {
  const x = Math.random() * (canvas.width - 40) + 20;
  const y = canvas.height + 20;
  const radius = 20;
  const speed = 2 + Math.random() * 3;
  bubbles.push({x, y, radius, speed});
}

function updateBubbles() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  bubbles.forEach((bubble, index) => {
    bubble.y -= bubble.speed;
    if (bubbleImage.complete) {
      ctx.drawImage(bubbleImage, bubble.x - bubble.radius, bubble.y - bubble.radius, bubble.radius*2, bubble.radius*2);
    } else {
      ctx.beginPath();
      ctx.arc(bubble.x, bubble.y, bubble.radius, 0, Math.PI*2);
      ctx.fillStyle = 'cyan';
      ctx.fill();
      ctx.closePath();
    }
    if (bubble.y + bubble.radius < 0) {
      bubbles.splice(index, 1);
    }
  });
}

function gameLoop() {
  updateBubbles();
  if (Math.random() < 0.05) spawnBubble();
}

function popBubble(x, y) {
  bubbles.forEach((bubble, index) => {
    const dx = x - bubble.x;
    const dy = y - bubble.y;
    if (Math.sqrt(dx*dx + dy*dy) < bubble.radius) {
      bubbles.splice(index, 1);
      score++;
      document.getElementById('score').innerText = 'Score: ' + score;
    }
  });
}

canvas.addEventListener('click', e => {
  const rect = canvas.getBoundingClientRect();
  popBubble(e.clientX - rect.left, e.clientY - rect.top);
});
canvas.addEventListener('touchstart', e => {
  const rect = canvas.getBoundingClientRect();
  const touch = e.touches[0];
  popBubble(touch.clientX - rect.left, touch.clientY - rect.top);
});

function startGame() {
  score = 0;
  timeLeft = 60;
  document.getElementById('score').innerText = 'Score: 0';
  document.getElementById('timer').innerText = 'Time: 60';
  bubbles = [];
  clearInterval(gameInterval);
  clearInterval(timerInterval);
  gameInterval = setInterval(gameLoop, 30);
  timerInterval = setInterval(() => {
    timeLeft--;
    document.getElementById('timer').innerText = 'Time: ' + timeLeft;
    if (timeLeft <= 0) {
      clearInterval(gameInterval);
      clearInterval(timerInterval);
      alert('Game Over! Final Score: ' + score);
    }
  }, 1000);
}

startGame();
</script>
</body>
</html>
